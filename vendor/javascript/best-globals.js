// best-globals@0.10.34 downloaded from https://ga.jspm.io/npm:best-globals@0.10.34/best-globals.js

var e={};(function codenautasModuleDefinition(t,n,r){"string"!==typeof t.globalModuleName&&(t.globalModuleName=n);e=r();t.globalModuleName=null})(e,"bestGlobals",(function(){var e={};e.coalesce=function coalesce(){var t=0;var n=false;while(t<arguments.length&&null==arguments[t]){n=n||null===arguments[t];t++}if(arguments[t]instanceof e.coalesce.throwError){if(arguments[t]instanceof e.coalesce.throwErrorIfUndefined&&n)return null;throw new Error(arguments[t].message)}return t>=arguments.length?n?null:void 0:arguments[t]};e.coalesce.throwError=function throwError(t){if(this===e.coalesce)return new e.coalesce.throwError(t);this.message=t};e.coalesce.throwErrorIfUndefined=function throwErrorIfUndefined(t){if(this===e.coalesce)return new e.coalesce.throwErrorIfUndefined(t);this.message=t};e.coalesce.throwErrorIfUndefined.prototype=Object.create(e.coalesce.throwError.prototype);function retreiveOptions(e,t,n){if(t.length<n)return{};var r=t[n-1];if(r instanceof e.options)return r;throw new Error("options must be constructed with "+e.name+".options function")}e.createOptionsToFunction=function createOptionsToFunction(e,t){t=t||e.length+1;e.retreiveOptions=function retrieOptions(n){return retreiveOptions(e,n,t)};e.options=function options(t){var n=Object.create(e.options.prototype);for(var r in t)n[r]=t[r];return n}};e.isPlainObject=function isPlainObject(e){return"object"===typeof e&&e&&e.constructor===Object};function deepCopy(t){var n=t;if(e.isPlainObject(t)){n={};for(var r in t)n[r]=deepCopy(t[r])}if(t instanceof Array){n=[];for(r in t)n[r]=deepCopy(t[r])}return n}e.deepCopy=deepCopy;e.changing=function changing(t,n){var r=e.changing.retreiveOptions(arguments);if(null!==t&&(e.isPlainObject(t)||t instanceof Error||r.mostlyPlain&&"object"==typeof t&&e.isPlainObject(n))){if("object"!==typeof n)throw new Error("ERROR changing object with non-object");var i=t instanceof Error?t:{};for(var o in t)o in n?"deletingValue"in r&&n[o]===r.deletingValue||(i[o]=changing(t[o],n[o],e.changing.options(r),true)):i[o]=deepCopy(t[o]);for(o in n)o in t||(i[o]=deepCopy(n[o]));return i}if(arguments[3])return void 0===n||r.nullIsUndefined&&null===n?deepCopy(t):deepCopy(n);throw new Error("changing with non Plain Object")};e.dig=function dig(t,n){if(1==arguments.length){n=t;t=null}return"function"===typeof n?n:e.dig.record(n)};e.dig.record=function digrecord(t,n){if(1==arguments.length){if("string"===typeof t)return e.dig;n=t;t=null}return function(t){var r={};for(var i in n){var o=n[i];if("function"!==typeof o)throw new Error("the value must be a dig object");o===e.dig?i in t&&(r[i]=t[i]):r[i]=o(t[i])}return r}};e.dig.exclude=function digExclude(e,t){if(1==arguments.length){t=e;e=null}return function(e){var n={};for(var r in e)r in t&&t[r]||(n[r]=e[r]);return n}};e.dig.default=function(e,t){if(1==arguments.length){t=e;e=null}return function(e){return void 0===e?t:e}};e.dig.indexedObject=function digIndexedObject(t,n){if(1==arguments.length){n=t;t=null}return function(t){var r={};for(var i in t)r[i]=e.dig(n)(t[i]);return r}};e.dig.idx=e.dig.indexedObject;e.dig.array=function array(t,n){if(1==arguments.length){n=t;t=null}return function(t){var r=t.map((function(t){return e.dig(n)(t)}));return r}};e.spec=e.dig;e.createOptionsToFunction(e.changing);function npad(e,t){var n=e+"";return n.length>=t?n:new Array(t-n.length+1).join("0")+n}var t=[{name:"toYmd",fun:function toYmd(){var e=[];e.push(this.getFullYear());e.push(npad(this.getMonth()+1,2));e.push(npad(this.getDate(),2));return e.join("-")}},{name:"toDmy",fun:function toYmd(){var e=[];e.push(this.getDate());e.push(this.getMonth()+1);e.push(this.getFullYear());return e.join("/")}},{name:"toHm",fun:function toHm(){var e=[];e.push(npad(this.getHours(),2));e.push(npad(this.getMinutes(),2));return e.join(":")}},{name:"toHms",fun:function toHms(){var e=[];e.push(npad(this.getHours(),2));e.push(npad(this.getMinutes(),2));e.push(npad(this.getSeconds(),2));return e.join(":")}},{name:"toYmdHms",fun:function toYmdHms(){return this.toYmd()+" "+this.toHms()}},{name:"toYmdHmsM",fun:function toYmdHmsM(){return this.toYmdHms()+"."+npad(this.getMilliseconds(),3)}},{name:"toYmdHmsMm",fun:function toYmdHmsMm(){return this.toYmdHms()+"."+npad(this.getMilliseconds(),3)+npad(this.getMicroseconds(),3)}},{name:"add",fun:function add(t,n){var r=0;t.getTime||(t=e.timeInterval(t));r=t.getTime();return{ms:this.getTime()+r*(n||1)}},mustConstruct:true},{name:"sub",fun:function sub(t){return t.isRealDate||t.isRealDateTime?e.timeInterval({ms:this.getTime()-t.getTime()}):this.add(t,-1)}},{name:"sameValue",fun:function sameValue(e){return e&&e instanceof e.constructor&&this.getTime()==e.getTime()}}];function addDateMethods(e,n){t.forEach((function(t){t.mustConstruct?e[t.name]=function(){return n(t.fun.apply(this,arguments))}:e[t.name]=t.fun}));return e}var n=1;e.date=function date(t){return e.dateForceIfNecesary(t,true)};e.dateForceIfNecesary=function dateForceIfNecesary(t,r){if(!r&&null==t)return null;if(null==t.ms&&!e.date.isOK(t))throw new Error("invalid date");var i=new Date(null!=t.ms?t.ms:t.getTime());var o=144e5;do{if(new Date(i-n).getDate()!=i.getDate()){i=addDateMethods(i,e.dateForceIfNecesary);i.isRealDate=true;return i}if(!r)if(new Date(i.getTime()-o).getDate()!=i.getDate()){i=new Date(i.getTime()-o);o=o<=1?0:Math.ceil(o/2)}else i=new Date(i.getTime()+o)}while(!r&&o>0);throw new Error('invalid date "'+i.toDateString()+'"because it is not at the begining of the date')};e.date.isValidDate=function isValidDate(e,t,n){if(e<0||t<1||n<0)return false;t-=1;var r=new Date(e,t,n);return r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===n};e.date.isOK=function isOK(t){return!!(t instanceof Date&&!isNaN(t.getTime())&&e.date.isValidDate(t.getFullYear(),t.getMonth()+1,t.getDate()))};e.date.ymd=function ymd(t,n,r){if(!e.date.isValidDate(t,n,r))throw new Error("invalid date");return e.dateForceIfNecesary(new Date(t,n-1,r,0,0,0,0),false)};var r="([0-9]+)([-/])(([1][0-2])|(0?[1-9]))\\3(([0123][0-9]))";e.date.parseFormat=function parseFormat(e){var t=" [0-9]{2}:[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}";var n="T([0-9]{2}):[0-9]{2}:[0-9]{2}.?[0-9]*Z";var i=new RegExp("^("+r+"("+t+"|"+n+")?)$");var o=i.exec(e);if(!o)throw new Error("invalid date");return{y:parseInt(o[2],10),m:parseInt(o[4],10),d:parseInt(o[7],10)}};e.date.iso=function iso(t,n){if(n&&!t&&(n.falsyReturnsNull||n.nullReturnsNull&&null==t))return null;var r=e.date.parseFormat(t);return e.date.ymd(r.y,r.m,r.d)};e.date.array=function array(t){if(3!==t.length)throw new Error("invalid date array");return e.date.ymd(t[0],t[1],t[2])};e.date.round=function round(t){return e.date.ymd(t.getFullYear(),t.getMonth()+1,t.getDate())};e.date.today=function today(){return e.date.round(new Date)};e.Datetime=function Datetime(e){this.parts=e;this.isRealDateTime=true};e.Datetime.reTz3=" ([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]{1,6}))?";e.Datetime.re=new RegExp("^("+r+"("+e.Datetime.reTz3+")?)$");e.Datetime.prototype.getFullYear=function getFullYear(){return this.parts.year};e.Datetime.prototype.getMonth=function getMonth(){return this.parts.month-1};e.Datetime.prototype.getDate=function getDate(){return this.parts.day};e.Datetime.prototype.getHours=function getHours(){return this.parts.hour};e.Datetime.prototype.getMinutes=function getMinutes(){return this.parts.minutes};e.Datetime.prototype.getSeconds=function getSeconds(){return this.parts.seconds};e.Datetime.prototype.getMilliseconds=function getMilliseconds(){return this.parts.ms};e.Datetime.prototype.getMicroseconds=function getMicroseconds(){return this.parts.micros};e.Datetime.prototype.valueOf=function getTime(){return this.getTime()};e.Datetime.prototype.getTime=function getTime(){return new Date(this.parts.year,this.parts.month-1,this.parts.day,this.parts.hour,this.parts.minutes,this.parts.seconds,this.parts.ms).getTime()};e.Datetime.prototype.toPlainString=function toPlainString(){var e=this.toYmdHmsMm();var prune=function(t){if(e.substr(e.length-t.length)==t){e=e.substr(0,e.length-t.length);return true}return false};prune("000")&&prune(".000")&&prune(":00")&&prune(" 00:00");return e};e.Datetime.prototype.toPostgres=function toPostgres(){return this.toPlainString()};e.Datetime.prototype.toLocaleString=function toPostgres(){var e=this.toDmy()+" "+this.toHms();var prune=function(t){if(e.substr(e.length-t.length)==t){e=e.substr(0,e.length-t.length);return true}return false};prune(":00")&&prune(" 00:00");return e};e.datetime={};e.Datetime.isValidTime=function isValidTime(e,t,n,r,i){return!(e<0||t<0||n<0||r<0||e>23||t>59||n>59||r>999||i<0||i>999)};e.datetime.ymdHms=function ymdHms(t,n,r,i,o,a){return e.datetime.ymdHmsM(t,n,r,i,o,a,0)};e.datetime.ymdHmsM=function ymdHmsM(t,n,r,i,o,a,s){return e.datetime.ymdHmsMm(t,n,r,i,o,a,s,0)};e.datetime.ymdHmsMm=function ymdHmsMm(t,n,r,i,o,a,s,u){if(!e.date.isValidDate(t,n,r))throw new Error("invalid date");if(!e.Datetime.isValidTime(i,o,a,s,u))throw new Error("invalid datetime");var l={year:t,month:n,day:r,hour:i,minutes:o,seconds:a,ms:s,micros:u};return new e.Datetime(l)};e.datetime.ms=function ms(t){var n=new Date(t);var r={year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),ms:n.getMilliseconds(),micros:0};return new e.Datetime(r)};e.datetime.now=function now(){return e.datetime.ms((new Date).getTime())};e.datetime.iso=function iso(t,n){if(n&&!t&&(n.falsyReturnsNull||n.nullReturnsNull&&null==t))return null;var r=e.Datetime.re.exec(t);if(!r)throw new Error("invalid datetime");var i={};i.year=parseInt(r[2],10);i.month=parseInt(r[4],10);i.day=parseInt(r[7],10);i.hour=parseInt(r[10]||0,10);i.minutes=parseInt(r[11]||0,10);i.seconds=parseInt(r[13]||0,10);i.ms=parseInt(((r[15]||"0")+"000000").substr(0,3),10);var o=((r[15]||"0")+"000000").substr(3);o+="000";o=o.substr(0,3);i.micros=parseInt(o,10);return new e.Datetime(i)};e.datetime.array=function array(t){if(t.length<3||t.length>8)throw new Error("invalid datetime array");return e.datetime.ymdHmsMm(t[0],t[1],t[2],t[3]||0,t[4]||0,t[5]||0,t[6]||0,t[7]||0)};addDateMethods(e.Datetime.prototype,(function(t){return e.datetime.ms(t.ms)}));e.TimeInterval=function TimeInterval(t){if("number"===typeof t){t={ms:t};console.log("|-----------------------------|");console.log("| DEPRECATED timeInterval(ms) |");console.log("|-----------------------------|")}var n={ms:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5};var r=0;for(var i in t)r+=t[i]*n[i];this.timeInterval={ms:r};this.toHms=function toHms(e,t,n,r,i){var o=n?"":"0";var a=this.timeInterval.ms;var s=a<0?"-":"";var u=[];var l=Math.abs(a);l/=1e3;var c=Math.floor(l%60);l/=60;var f=Math.floor(l%60);l/=60;var m=Math.floor(l);if(m||!r){if(t){m=Math.floor(l%24);l/=24;var d=Math.floor(l);if(d){s+=(Math.abs(d)<10&&!i?o:"")+d+"D";if(!m&&!f&&!c)return s;s+=" ";i=false}}u.push((m<10&&!i?o:"")+m);i=false}u.push((f<10&&!i?"0":"")+f);e||u.push((c<10?"0":"")+c);var h=u.join(":");return s+h};this.toHm=function toHm(){return this.toHms(true)};this.toPlainString=function toPlainString(){return this.toHms(false,true,true)};this.add=function add(t,n){t.timeInterval||(t=e.timeInterval(t));return new e.TimeInterval({ms:this.timeInterval.ms+t.timeInterval.ms*(n||1)})};this.sub=function sub(e){return this.add(e,-1)};this.getAllHours=function getAllHours(){return this.timeInterval.ms/36e5};this.sameValue=function sameValue(t){return t&&t instanceof e.TimeInterval&&this.timeInterval.ms==t.timeInterval.ms};this.getTime=function getTime(){return this.timeInterval.ms}};e.TimeInterval.prototype.toString=function toString(){return this.toHms(false,true,false)};e.TimeInterval.prototype.toHmsOrMs=function toHmsOrMs(){return this.toHms(false,false,false,true,true)};e.TimeInterval.prototype.toPostgres=function toPostgres(){return this.timeInterval.ms+"ms"};e.timeInterval=function timeInterval(t){return new e.TimeInterval(t)};e.timeInterval.iso=function iso(t,n){if(n&&!t&&(n.falsyReturnsNull||n.nullReturnsNull&&null==t))return null;var r=t.match(/^(-?)[T ]?(?:(\d+)M(?:inute(?:s)?)?)?(?:(\d+)S(?:econd(?:s)?)?)?$/i);if(r&&r[0])r=[t,r[1],0,0,0,0,r[2],r[3],r[4]];else{r=t.match(/^(-?)P?(?:(\d+)Y(?:ear(?:s)?)?)?(?:(\d+)M(?:onth(?:s)?)?)?(?:(\d+)D(?:ay(?:s)?)?)?[T ]?(?:(\d+)H(?:our(?:s)?)?)?(?:(\d+)M(?:inute(?:s)?)?)?(?:(\d+)S(?:econd(?:s)?)?)?$/i);r&&r[0]||(r=t.match(/^(-?)P?(?:(\d+)[/-](\d+)[/-](\d+))?[T ]?(?:(\d+):(\d+)(?::(\d+)))?$/i))}if(r){var i="-"==r[1]?-1:1;return e.timeInterval({ms:r[8]*i||0,seconds:r[7]*i||0,minutes:r[6]*i||0,hours:r[5]*i||0,days:r[4]*i||0})}throw new Error("invalid timestamp "+t)};e.functionName=function functionName(e){if("function"!==typeof e)throw new Error("non function in functionName");return e.name||e.toString().replace(/^\s*function\s*([^(]*)\((.|\s)*$/i,"$1")||"anonymous"};e.constructorName=function constructorName(t){if(t)return e.functionName(t.constructor);console.log("deprecate use of constructorName with non-object for",t);console.log("it will throw Error in future releases")};e.escapeRegExp=function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};var i={"à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","À":"a","Á":"a","Â":"a","Ã":"a","Ä":"a","Å":"a","è":"e","é":"e","ê":"e","ë":"e","È":"e","É":"e","Ê":"e","Ë":"e","ì":"i","í":"i","î":"i","ï":"i","Ì":"i","Í":"i","Î":"i","Ï":"i","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","Ò":"o","Ó":"o","Ô":"o","Õ":"o","Ö":"o","ù":"u","ú":"u","û":"u","ü":"u","Ù":"u","Ú":"u","Û":"u","Ü":"u","ñ":"nzzzzzzzzzz","Ñ":"nzzzzzzzzzz"};var o=new RegExp("["+e.escapeRegExp(Object.keys(i).join(""))+"]","g");e.auxComplementInteger=function auxComplementInteger(e){return e.split("").map((function(e){return"."===e?".":""+(9-e)})).join("")};e.forOrder=function forOrder(t){if(null==t)return"zzz(null)";if(t instanceof Date)return t.toISOString();var n=e.coalesce;var r=[];var a=[];var s=true;t.toString().replace(o,(function(e){return i[e]})).replace(/([a-z]+)|((-?)0*(0|[1-9][0-9]*)(\.[0-9]+)?)|([^a-z0-9])/gi,(function(t,i,o,u,l,c,f){i&&r.push(" "+i.toLowerCase());if(o){var m;if(u&&s){l=e.auxComplementInteger(l);c=e.auxComplementInteger(c||"");m=true}else m=false;r.push(" "+(m?"A":"")+String.fromCharCode(65+n(l,"").length)+n(l,"")+n(c,""))}s=false;if(f){s=true;a.push(" , "+f)}}));return r.join("")+a.join("")+"   "+t};e.forOrder.Native=function forOrderNative(e){return e};e.nullsOrder=1;e.compareForOrder=function compareForOrder(t){var n=this;return function forOrderComparator(r,i){var o;var a=0;do{var s=e.coalesce(t[a].order,1);o=t[a].column;if(null==r[o]){if(null!=i[o])return n.nullsOrder}else{if(null==i[o])return-n.nullsOrder;var u=(t[a].func||n.forOrder)(r[o]);var l=(t[a].func||n.forOrder)(i[o]);if(u>l)return 1*s;if(u<l)return-1*s}a++}while(a<t.length);return 0}};e.sleep=function sleep(e){var t=function sleepAndPass(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))};t.then=function then(e){return t().then(e)};return t};e.registerJson4All=function registerJson4All(t){t.addType(Date,{specialTag:function specialTag(e){return e.isRealDate?"date":"Date"},construct:function construct(e){return new Date(e)},deconstruct:function deconstruct(e){return e.isRealDate?e.toYmd():e.getTime()}});t.addType("date",{construct:function construct(t){return e.date.iso(t)}});t.addType(e.Datetime,{construct:function construct(t){return e.datetime.iso(t)},deconstruct:function construct(e){return e.toPlainString()}})};function arrayFind(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this);var n=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");var r=arguments[1];var i=0;while(i<n){var o=t[i];if(e.call(r,o,i,t))return o;i++}}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:arrayFind});e.arrayFind=arrayFind;e.serie=function serie(e,t){var n;var r;var i;var o;if(e instanceof Object){r="from"in e?e.from:0;i="step"in e?e.step:1;if("length"in e){o=e.length;n=(o-1)*i+r}else{n="to"in e?e.to:function(){throw new Error('serie lack of "from" or "to"')}();o=Math.floor((n-r)/i)+1}}else{o=null==t?e:t;r=null==t?0:e;i=1}if("number"===typeof i){o<0&&(o=0);return Array.apply(null,Array(o)).map((function(e,t){return t*i+r}))}throw new Error("ERROR serie.step must be a number")};var a=e.MAX_SAFE_INTEGER=9007199254740991;e.sameValue=function sameValue(e,t){return e==t||e instanceof Date&&t instanceof Date&&e.getTime()==t.getTime()||"number"===typeof e&&(e>a||e<-a)&&Math.abs(e/t)<1.00000000000001&&Math.abs(e/t)>.99999999999999||e&&!!e.sameValue&&e.sameValue(t)};e.sameValues=function sameValues(t,n,r){if(t===n)return true;if("left"==r)return e.sameValues(n,t,"right");if("right"==r){for(var i in t)if(!(i in n)||!e.sameValue(t[i],n[i]))return false;return true}return e.sameValues(t,n,"right")&&e.sameValues(t,n,"left")};e.isLowerIdent=function isLowerIdent(e){return e&&"string"===typeof e&&/^[_a-z][_a-z0-9]*$/.test(e)};e.deepFreeze=function deepFreeze(t){if(t&&t instanceof Object){t instanceof Array&&t.forEach((function(e){}));for(var n in t)e.deepFreeze(t[n]);Object.freeze(t)}return t};e.escapeStringRegexp=function escapeStringRegexp(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};return e}));var t=e;export{t as default};

